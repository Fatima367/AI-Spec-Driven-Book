---
title: Introduction to ROS 2
sidebar_position: 1
---

import { Hero } from '@site/src/components/Hero';
import Button from '@site/src/components/Button';
import styles from './styles.module.css';

<Hero
  title="ROS 2: The Robot Operating System for Modern Robotics"
  description="Dive into the world of ROS 2 and learn how to build powerful, distributed robotic applications."
  image="/img/ros2-hero.png"
  alt="ROS 2 Robot"
/>

## Learning Objectives

In this module, you will learn to:

*   Understand the core concepts and architecture of ROS 2.
*   Set up your ROS 2 development environment.
*   Create and manage ROS 2 nodes, topics, services, and actions.
*   Interact with ROS 2 through command-line tools and Python.
*   Define robot models using URDF.
*   Visualize robotic simulations in Gazebo/RViz.

## 1.1 What is ROS 2?

ROS 2 (Robot Operating System 2) is a flexible framework for writing robot software. It's a collection of tools, libraries, and conventions that aim to simplify the task of creating complex and robust robot behaviors across a wide variety of robotic platforms. Building upon the success of ROS 1, ROS 2 was re-architected to meet the demands of modern robotics, including real-time control, multi-robot systems, and embedded platforms.

### 1.1.1 Core Concepts and Architecture

At its heart, ROS 2 is a distributed communication system. It enables different processes (called **nodes**) to communicate with each other using various mechanisms like topics, services, and actions.

#### ROS 2 Node Architecture (Mermaid Diagram)

```mermaid
graph TD
    subgraph ROS 2 System
        A[Node A: Sensor Driver] -->|/camera/image (Image data)| B[Node B: Image Processor]
        B -->|/processed_image (Processed data)| C[Node C: Navigation]
        C --o|/cmd_vel (Velocity commands)| D[Node D: Motor Controller]
    end
```

**Key Components:**

*   **Nodes:** Executable processes that perform computation (e.g., sensor drivers, motor controllers, navigation algorithms).
*   **Topics:** Asynchronous, many-to-many communication channels for streaming data (e.g., sensor readings, joint states).
*   **Services:** Synchronous, request-reply communication for invoking specific functionalities (e.g., getting a map, triggering an action).
*   **Actions:** Long-running, goal-oriented communication for complex tasks with feedback (e.g., navigating to a goal, picking up an object).
*   **Parameters:** Configuration values for nodes.
*   **ROS 2 Graph:** The network of all ROS 2 entities and their connections.

## 1.2 Setting up your ROS 2 Environment

This section assumes you have a Linux-based system (preferably Ubuntu 22.04 LTS).

### 1.2.1 Installation (Ubuntu)

```bash
# Set up your sources
sudo apt update && sudo apt install locales
sudo locale-gen en_US en_US.UTF-8
sudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8
export LANG=en_US.UTF-8

# Add the ROS 2 apt repository
sudo apt install software-properties-common -y
sudo add-apt-repository universe -y
sudo apt update && sudo apt install curl -y
sudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release && echo UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null

# Install ROS 2 Humble (Desktop Full)
sudo apt update
sudo apt install ros-humble-desktop-full -y

# Environment setup
echo "source /opt/ros/humble/setup.bash" >> ~/.bashrc
source ~/.bashrc
```

## 1.3 Creating Your First ROS 2 Package

Let's create a simple publisher-subscriber example in Python.

### 1.3.1 Create a new ROS 2 package

```bash
cd ~/ros2_ws/src
ros2 pkg create --build-type ament_python my_robot_pkg --dependencies rclpy std_msgs
```

### 1.3.2 Publisher Node (Python)

`~/ros2_ws/src/my_robot_pkg/my_robot_pkg/publisher_member_function.py`

```python
import rclpy
from rclpy.node import Node

from std_msgs.msg import String


class MinimalPublisher(Node):

    def __init__(self):
        super().__init__('minimal_publisher')
        self.publisher_ = self.create_publisher(String, 'topic', 10)
        timer_period = 0.5  # seconds
        self.timer = self.create_timer(timer_period, self.timer_callback)
        self.i = 0

    def timer_callback(self):
        msg = String()
        msg.data = 'Hello World: %d' % self.i
        self.publisher_.publish(msg)
        self.get_logger().info('Publishing: "%s"' % msg.data)
        self.i += 1


def main(args=None):
    rclpy.init(args=args)

    minimal_publisher = MinimalPublisher()

    rclpy.spin(minimal_publisher)

    # Destroy the node explicitly
    # (optional - otherwise it will be done automatically
    # when the garbage collector destroys the node object)
    minimal_publisher.destroy_node()
    rclpy.shutdown()


if __name__ == '__main__':
    main()
```

### 1.3.3 Subscriber Node (Python)

`~/ros2_ws/src/my_robot_pkg/my_robot_pkg/subscriber_member_function.py`

```python
import rclpy
from rclpy.node import Node

from std_msgs.msg import String


class MinimalSubscriber(Node):

    def __init__(self):
        super().__init__('minimal_subscriber')
        self.subscription = self.create_subscription(
            String,
            'topic',
            self.listener_callback,
            10)
        self.subscription  # prevent unused variable warning

    def listener_callback(self, msg):
        self.get_logger().info('I heard: "%s"' % msg.data)


def main(args=None):
    rclpy.init(args=args)

    minimal_subscriber = MinimalSubscriber()

    rclpy.spin(minimal_subscriber)

    # Destroy the node explicitly
    # (optional - otherwise it will be done automatically
    # when the garbage collector destroys the node object)
    minimal_subscriber.destroy_node()
    rclpy.shutdown()


if __name__ == '__main__':
    main()
```

### 1.3.4 Update `setup.py`

`~/ros2_ws/src/my_robot_pkg/setup.py`

```python
from setuptools import find_packages, setup

package_name = 'my_robot_pkg'

setup(
    name=package_name,
    version='0.0.0',
    packages=find_packages(exclude=['test']),
    data_files=[
        ('share/ament_index/resource_index/packages',
            ['resource/' + package_name]),
        ('share/' + package_name, ['package.xml']),
    ],
    install_requires=['setuptools'],
    zip_safe=True,
    maintainer='your_name',
    maintainer_email='your_email@example.com',
    description='TODO: Package description',
    license='TODO: License declaration',
    tests_require=['pytest'],
    entry_points={
        'console_scripts': [
            'talker = my_robot_pkg.publisher_member_function:main',
            'listener = my_robot_pkg.subscriber_member_function:main',
        ],
    },
)
```

### 1.3.5 Build and Run

```bash
# Build your workspace
cd ~/ros2_ws
colcon build

# Source the setup files
source install/setup.bash

# Run the publisher and subscriber in separate terminals
# Terminal 1:
ros2 run my_robot_pkg talker

# Terminal 2:
ros2 run my_robot_pkg listener
```

## 1.4 Robot Model Description (URDF)

URDF (Unified Robot Description Format) is an XML format for describing robots. It's used in ROS 2 to represent the kinematic and dynamic properties of a robot, as well as its visual and collision characteristics.

### 1.4.1 Simple URDF Example

`my_robot.urdf` (example, not in a package structure yet)

```xml
<?xml version="1.0"?>
<robot name="my_simple_robot">

  <link name="base_link">
    <visual>
      <geometry>
        <box size="0.6 0.4 0.2"/>
      </geometry>
      <material name="blue">
        <color rgba="0 0 0.8 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <box size="0.6 0.4 0.2"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="10"/>
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
    </inertial>
  </link>

  <link name="wheel_right_link">
    <visual>
      <geometry>
        <cylinder radius="0.1" length="0.05"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder radius="0.1" length="0.05"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>
    </inertial>
  </link>

  <joint name="base_to_wheel_right" type="continuous">
    <parent link="base_link"/>
    <child link="wheel_right_link"/>
    <origin xyz="-0.25 0.25 -0.1"/>
    <axis xyz="0 1 0"/>
  </joint>

  <!-- Add more links and joints for a complete robot -->

</robot>
```

## 1.5 Try it Yourself: Simulation with ROS 2

This section will guide you through simulating your robot in Gazebo and visualizing it in RViz.

1.  **Install Gazebo and RViz:**
    ```bash
    sudo apt install ros-humble-gazebo-ros-pkgs ros-humble-rviz2 -y
    ```
2.  **Launch a simple Gazebo world:**
    ```bash
    gazebo
    ```
3.  **Spawn your URDF robot (requires a launch file for proper integration, but for basic visualization):**
    ```bash
    ros2 launch urdf_tutorial display.launch.py model:=src/my_robot_pkg/urdf/my_robot.urdf # (assuming you put your urdf in my_robot_pkg/urdf)
    ```
4.  **Launch RViz 2:**
    ```bash
    rviz2
    ```
    In RViz, add a "RobotModel" display and ensure its "Description File" is set to your `my_robot.urdf` path, or load it via a launch file.

## Quiz: Test Your Knowledge

1.  Which of the following communication mechanisms in ROS 2 is synchronous and uses a request-reply pattern?
    a) Topics
    b) Services
    c) Actions
    d) Parameters

2.  What is the primary purpose of a ROS 2 Node?
    a) To define robot hardware specifications.
    b) To compile ROS 2 packages.
    c) To perform computation and communicate with other processes.
    d) To visualize sensor data.

3.  What is URDF primarily used for in ROS 2?
    a) Writing Python code for nodes.
    b) Describing the kinematic and dynamic properties of a robot.
    c) Managing ROS 2 package dependencies.
    d) Sending commands to robot motors.

## Further Exploration

<div className={styles.buttonsContainer}>
  <Button link="/personalize">Personalize for Me</Button>
  <Button link="/translate-ur">اردو میں ترجمہ کریں</Button>
</div>
